# Windsurf Rules - Agentic Workflow

CRITICAL: Before doing ANY task, follow the agentic workflow in this repository.

## MANDATORY FIRST STEPS

1. READ `AI-WORKFLOW.md` - This is your primary reference for the complete workflow, protocols, and reading order
2. Follow the reading order defined in AI-WORKFLOW.md - It tells you which agent file to read at each step

## AGENTIC WORKFLOW (ALWAYS FOLLOW)

For ANY user task, follow the steps defined in `AI-WORKFLOW.md`. Summary:

1. **IT Agent** (FIRST) → Verify & install `git` and `gh` CLI, authenticate `gh`
2. **Product Owner** → Clarify requirements, create user story
3. **Cost Analyst** → Estimate total task cost, warn if expensive (advisory)
4. **Architect** → Technical design, choose tech stack
5. **IT Agent** (Setup) → Install prerequisites + project dependencies, set up scripts/
6. **Developer** → Implement in modules/
7. **Tester** → Validate implementation
8. **IT Agent** (Release) → Build artifacts
9. **Product Owner** (Acceptance) → Review and present to user

## MANDATORY HANDOVER PROTOCOL (CRITICAL - DO NOT SKIP)

**At EVERY handover between agents, you MUST:**

1. **STOP** - Do not silently continue to the next agent
2. **Commit and push** all work to the branch
3. **Ask the user**:
   > "My work as [Agent Name] is complete. Before handing over to [Next Agent]:
   > - Would you like me to **create a PR** for review?
   > - Or should I **continue directly** to [Next Agent]?"
4. **Wait for user response** - Do NOT assume the answer
5. **If user wants PR**: Create it using `gh pr create`, then wait for approval
6. **If user says continue**: Proceed to next agent

**NEVER skip this step. This is the #1 failure mode observed during testing.**

## GIT WORKFLOW

- Task master branch: `master_{task_name}` from `template/agentic-workflow`
- Agent branches: `windsurf/{agent}-{task_name}-{sessionID}`
- All PRs go to `master_{task_name}` (NOT main/master)
- See `AI-WORKFLOW.md` for full branching and PR details

## REMEMBER

- IT Agent runs FIRST - Verify git & gh CLI before anything else
- NEVER skip Product Owner - After IT Agent, always go to Product Owner
- NEVER skip IT Agent after Architect chooses tech stack
- NEVER code without Architect design
- ALWAYS follow the Handover Protocol at every agent transition
- ALWAYS read `AI-WORKFLOW.md` for complete protocols
